<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì—°ê°„ ë‹¬ë ¥ ì¶œë ¥ê¸°</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    input {
      margin-bottom: 20px;
    }

    .calendar-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }

    .calendar {
      border: 1px solid #999;
      padding: 10px;
      width: 250px;
    }

    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 10px;
    }

    th, td {
      border: 1px solid #ccc;
      padding: 5px;
      text-align: center;
    }

    th {
      background-color: #f0f0f0;
    }

    .sunday {
      color: red;
    }

    .today {
      background-color: yellow;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <h2>ğŸ“… ì—°ê°„ ë‹¬ë ¥ ì¶œë ¥ê¸°</h2>

  <label for="yearInput">ì—°ë„:</label>
  <input type="number" id="yearInput" value="2025" min="1">
  <button onclick="generateYearCalendar()">ë‹¬ë ¥ ì¶œë ¥</button>

  <div id="calendarContainer" class="calendar-grid"></div>

  <script>
    function isLeapYear(year) {
      return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0);
    }

    function generateYearCalendar() {
      const year = parseInt(document.getElementById("yearInput").value);
      const container = document.getElementById("calendarContainer");
      container.innerHTML = "";

      if (isNaN(year) || year < 1) {
        container.innerHTML = "<p style='color:red;'>ì˜¬ë°”ë¥¸ ì—°ë„ë¥¼ ì…ë ¥í•˜ì„¸ìš”.</p>";
        return;
      }

      const today = new Date();
      const todayYear = today.getFullYear();
      const todayMonth = today.getMonth();
      const todayDate = today.getDate();

      const monthNames = [
        "1ì›”", "2ì›”", "3ì›”", "4ì›”", "5ì›”", "6ì›”",
        "7ì›”", "8ì›”", "9ì›”", "10ì›”", "11ì›”", "12ì›”"
      ];

      for (let month = 1; month <= 12; month++) {
        let daysInMonth;
        switch (month) {
          case 2:
            daysInMonth = isLeapYear(year) ? 29 : 28;
            break;
          case 4: case 6: case 9: case 11:
            daysInMonth = 30;
            break;
          default:
            daysInMonth = 31;
        }

        let firstDay = new Date(year, month - 1, 1).getDay();
        let calendarHTML = `<div class="calendar"><h3>${year}ë…„ ${monthNames[month - 1]}</h3>`;
        calendarHTML += "<table><thead><tr>";
        const weekDays = ["ì¼", "ì›”", "í™”", "ìˆ˜", "ëª©", "ê¸ˆ", "í† "];
        weekDays.forEach((day, idx) => {
          const className = idx === 0 ? " class='sunday'" : "";
          calendarHTML += `<th${className}>${day}</th>`;
        });
        calendarHTML += "</tr></thead><tbody><tr>";

        // ë¹ˆ ì…€ ì¶”ê°€
        for (let i = 0; i < firstDay; i++) {
          calendarHTML += "<td></td>";
        }

        for (let day = 1; day <= daysInMonth; day++) {
          const dateObj = new Date(year, month - 1, day);
          const dayOfWeek = dateObj.getDay();
          let classes = [];

          if (dayOfWeek === 0) classes.push("sunday");
          if (
            year === todayYear &&
            month - 1 === todayMonth &&
            day === todayDate
          ) {
            classes.push("today");
          }

          const classAttr = classes.length > 0 ? ` class="${classes.join(" ")}"` : "";
          calendarHTML += `<td${classAttr}>${day}</td>`;

          if (dayOfWeek === 6 && day !== daysInMonth) {
            calendarHTML += "</tr><tr>";
          }
        }

        calendarHTML += "</tr></tbody></table></div>";
        container.innerHTML += calendarHTML;
      }
    }

    // ì´ˆê¸° ì¶œë ¥ (í˜„ì¬ ì—°ë„ ê¸°ì¤€)
    window.onload = generateYearCalendar;
  </script>

</body>
</html>
